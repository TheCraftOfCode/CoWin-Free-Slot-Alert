(this.webpackJsonpvaccine=this.webpackJsonpvaccine||[]).push([[0],{22:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(16),i=n.n(a),r=(n(22),n(4)),o=n.n(r),l=n(6),d=n(3),j=n(17),u=n.n(j),h=(n(5),n(0));var b=function(e){return Object(h.jsxs)("div",{className:"search",children:[Object(h.jsx)("input",{type:"number",placeholder:"Enter Pin Code",onChange:e.handlePin,value:e.pin}),e.isSearching?Object(h.jsx)("button",{type:"submit",onClick:function(){return window.location.reload()},children:"Stop Searching"}):Object(h.jsx)("button",{onClick:e.handleClick,disabled:!e.pin,children:"Search Free Slots"})]})};var p=function(e){return Object(h.jsxs)("div",{className:"hospital",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Hospital: \u2002"}),e.each.name]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Date:\u2002"}),e.each.date]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Age:\u2002"}),e.each.age,"+"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Dose 1:\u2002"}),e.each.dose1," slots"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Dose 2:\u2002"}),e.each.dose2," slots"]})]})},O=n.p+"static/media/beep.d8d253fb.mp3";var v=function(e){var t,n=Object(c.useState)(),s=Object(d.a)(n,2),a=s[0],i=s[1],r=new Audio(O);return r.volume=.05,Object(c.useEffect)(Object(l.a)(o.a.mark((function n(){var c,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(t=[],c=0;c<e.centers.length;c++)for(s=0;s<e.centers[c].sessions.length;s++)e.centers[c].sessions[s].available_capacity>0&&t.push({name:e.centers[c].name,date:e.centers[c].sessions[s].date,age:e.centers[c].sessions[s].min_age_limit,dose1:e.centers[c].sessions[s].available_capacity_dose1,dose2:e.centers[c].sessions[s].available_capacity_dose2});t.length>0&&(i(t.map((function(e){return Object(h.jsx)(p,{each:e})}))),r.play());case 3:case"end":return n.stop()}}),n)}))),[]),Object(h.jsx)("div",{className:"slot",children:a||null})};var x=function(){Object(c.useEffect)((function(){var e=new Date;f("".concat(e.getDate(),"-").concat(e.getMonth()<9?0:null).concat(e.getMonth()+1,"-").concat(e.getFullYear()))}),[]);var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(),i=Object(d.a)(a,2),r=i[0],j=i[1],p=Object(c.useState)(),O=Object(d.a)(p,2),x=O[0],f=O[1],g=Object(c.useState)(!1),m=Object(d.a)(g,2),w=m[0],S=m[1],y=function(e){return new Promise((function(t){return setTimeout(t,e)}))},k=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);case 1:return e.next=4,u.a.get("".concat("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?","pincode=").concat(n,"&date=").concat(x));case 4:return t=e.sent,j(t.data.centers),e.next=8,y(1e4);case 8:e.next=1;break;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(b,{handlePin:function(e){s(e.target.value)},handleClick:k,pin:n,isSearching:w}),Object(h.jsx)("div",{children:"How to use this ?"}),Object(h.jsx)("div",{children:"Enter your pincode, hit search and carry on with your work. The app will keep seaching till you stop it and when it finds a slot, it will alert you with a beep"}),Object(h.jsx)("br",{}),r?r.length>0?Object(h.jsx)(v,{centers:r,handleClick:k,sleep:y}):Object(h.jsxs)("div",{className:"loading",children:[Object(h.jsx)("div",{class:"loader"}),Object(h.jsx)("h1",{children:"No Slots Yet... Searching"})]}):null]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root")),f()},5:function(e,t,n){}},[[43,1,2]]]);
//# sourceMappingURL=main.36f4e5ec.chunk.js.map